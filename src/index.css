/* src/index.css */

@import "tailwindcss"; /* This must be the very first line */
@import url("https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap");

/* =============================================
   === 1. THEME & GLOBAL VARIABLES           ===
   =============================================
   All theme-specific colors and fonts are defined here as CSS Custom Properties.
   ChastityOS Design System with dark mode focus.
*/
:root,
.theme-prod {
  --font-main:
    "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
    sans-serif;

  /* --- ChastityOS Dark Mode Color Palette --- */
  --color-bg-primary: #282132;
  --color-bg-secondary: #d7d2ea;
  --color-bg-tertiary: #dfdbee;
  --color-text-primary: #ffffff;
  --color-text-secondary: #d7d2ea;
  --color-text-muted: #a39fad;
  --color-text-accent: #581c87;
  --color-border-primary: #000000;
  --color-border-accent: #581c87;
  --color-button-bg: #581c87;
  --color-button-bg-hover: #7f28c1;
  --color-button-text: #ffffff;
  --color-accent-orange: #e88331;
  --color-accent-purple: #581c87;
  --color-focus-ring: #47166c;

  /* --- Mobile-First Design Tokens --- */
  --touch-target-min: 44px;
  --mobile-spacing-xs: 0.25rem;
  --mobile-spacing-sm: 0.5rem;
  --mobile-spacing-md: 1rem;
  --mobile-spacing-lg: 1.5rem;
  --mobile-spacing-xl: 2rem;

  /* Fluid Typography */
  --font-size-xs: clamp(0.75rem, 0.7rem + 0.25vw, 0.8rem);
  --font-size-sm: clamp(0.875rem, 0.8rem + 0.375vw, 0.9rem);
  --font-size-base: clamp(1rem, 0.9rem + 0.5vw, 1.125rem);
  --font-size-lg: clamp(1.125rem, 1rem + 0.625vw, 1.25rem);
  --font-size-xl: clamp(1.25rem, 1.1rem + 0.75vw, 1.5rem);
  --font-size-2xl: clamp(1.5rem, 1.3rem + 1vw, 2rem);

  /* Mobile-Safe Animations */
  --animation-duration-fast: 150ms;
  --animation-duration-normal: 300ms;
  --animation-duration-slow: 500ms;
  --animation-easing: cubic-bezier(0.4, 0, 0.2, 1);
}

.theme-nightly {
  --font-main:
    "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
    sans-serif;

  /* --- Nightly (Green) Palette Overrides --- */
  --color-bg-primary: #0f1d14;
  --color-bg-secondary: #14532d;
  --color-bg-tertiary: #14532d;
  --color-text-primary: #dcfce7;
  --color-text-secondary: #bbf7d0;
  --color-text-accent: #86efac;
  --color-border-primary: #15803d;
  --color-border-accent: #16a34a;
  --color-button-bg: #16a34a;
  --color-button-bg-hover: #22c55e;
  --color-button-text: #ffffff;
  --color-accent-orange: #22c55e;
  --color-accent-purple: #16a34a;
  --color-focus-ring: #4ade80;
}

/* =============================================
   === 2. BASE & RESET STYLES                ===
   =============================================
*/
html,
body,
#root {
  @apply h-full m-0 p-0 box-border;
}
*,
::before,
::after {
  box-sizing: inherit;
}
:root {
  @apply leading-normal font-normal;
  font-size: var(--font-size-base);
  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  color-scheme: light dark;

  /* Mobile-first viewport handling */
  -webkit-text-size-adjust: 100%;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  touch-action: manipulation;
}
.theme-prod,
.theme-nightly {
  font-family: var(--font-main);
  background-color: var(--color-bg-primary);
  color: var(--color-text-primary);
}

/* Mobile-first scrolling behavior */
html {
  scroll-behavior: smooth;
}

@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
}

/* =============================================
   === 2.5. MOBILE-FIRST UTILITIES           ===
   =============================================
*/

/* Touch-friendly interactive elements */
.touch-target {
  min-height: var(--touch-target-min);
  min-width: var(--touch-target-min);
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all var(--animation-duration-fast) var(--animation-easing);
}

.touch-target:active {
  transform: scale(0.98);
}

/* Mobile-optimized button styles */
.btn-mobile {
  @apply touch-target;
  padding: 0.75rem 1.5rem;
  border-radius: 0.75rem;
  font-weight: 600;
  font-size: var(--font-size-base);
  background-color: var(--color-button-bg);
  color: var(--color-button-text);
  border: none;
  outline: none;
  position: relative;
  overflow: hidden;
}

.btn-mobile:hover:not(:disabled) {
  background-color: var(--color-button-bg-hover);
}

.btn-mobile:focus-visible {
  outline: 2px solid var(--color-focus-ring);
  outline-offset: 2px;
}

.btn-mobile:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  transform: none;
}

.btn-mobile:active:not(:disabled) {
  transform: scale(0.98);
}

/* Mobile-first form controls */
.input-mobile {
  min-height: var(--touch-target-min);
  padding: 0.75rem 1rem;
  border-radius: 0.75rem;
  border: 2px solid var(--color-border-accent);
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-primary);
  font-size: 16px; /* Prevents iOS zoom */
  font-family: var(--font-main);
  transition: all var(--animation-duration-fast) var(--animation-easing);
  width: 100%;
  box-sizing: border-box;
}

.input-mobile:focus {
  border-color: var(--color-focus-ring);
  outline: none;
  box-shadow: 0 0 0 3px rgba(88, 28, 135, 0.1);
}

.input-mobile::placeholder {
  color: var(--color-text-muted);
  opacity: 0.7;
}

/* Mobile-safe select styling */
.select-mobile {
  @apply input-mobile;
  background-image: url("data:image/svg+xml;charset=US-ASCII,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 4 5'><path fill='%23a39fad' d='m2 0-2 2h4zm0 5 2-2H0z'/></svg>");
  background-repeat: no-repeat;
  background-position: right 0.75rem center;
  background-size: 0.75rem;
  padding-right: 2.5rem;
  appearance: none;
  cursor: pointer;
}

/* Fluid typography */
.text-fluid-xs {
  font-size: var(--font-size-xs);
}
.text-fluid-sm {
  font-size: var(--font-size-sm);
}
.text-fluid-base {
  font-size: var(--font-size-base);
}
.text-fluid-lg {
  font-size: var(--font-size-lg);
}
.text-fluid-xl {
  font-size: var(--font-size-xl);
}
.text-fluid-2xl {
  font-size: var(--font-size-2xl);
}

/* Mobile spacing utilities */
.space-mobile-xs {
  gap: var(--mobile-spacing-xs);
}
.space-mobile-sm {
  gap: var(--mobile-spacing-sm);
}
.space-mobile-md {
  gap: var(--mobile-spacing-md);
}
.space-mobile-lg {
  gap: var(--mobile-spacing-lg);
}
.space-mobile-xl {
  gap: var(--mobile-spacing-xl);
}

.p-mobile-xs {
  padding: var(--mobile-spacing-xs);
}
.p-mobile-sm {
  padding: var(--mobile-spacing-sm);
}
.p-mobile-md {
  padding: var(--mobile-spacing-md);
}
.p-mobile-lg {
  padding: var(--mobile-spacing-lg);
}
.p-mobile-xl {
  padding: var(--mobile-spacing-xl);
}

.m-mobile-xs {
  margin: var(--mobile-spacing-xs);
}
.m-mobile-sm {
  margin: var(--mobile-spacing-sm);
}
.m-mobile-md {
  margin: var(--mobile-spacing-md);
}
.m-mobile-lg {
  margin: var(--mobile-spacing-lg);
}
.m-mobile-xl {
  margin: var(--mobile-spacing-xl);
}

/* Safe area handling for notched devices */
.safe-area-inset-top {
  padding-top: env(safe-area-inset-top);
}
.safe-area-inset-bottom {
  padding-bottom: env(safe-area-inset-bottom);
}
.safe-area-inset-left {
  padding-left: env(safe-area-inset-left);
}
.safe-area-inset-right {
  padding-right: env(safe-area-inset-right);
}
.safe-area-inset-all {
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}

/* Mobile-first responsive containers */
.container-mobile {
  width: 100%;
  max-width: 100%;
  margin: 0 auto;
  padding: 0 var(--mobile-spacing-md);
}

@media (min-width: 640px) {
  .container-mobile {
    max-width: 640px;
    padding: 0 var(--mobile-spacing-lg);
  }
}

@media (min-width: 768px) {
  .container-mobile {
    max-width: 768px;
  }
}

@media (min-width: 1024px) {
  .container-mobile {
    max-width: 1024px;
  }
}

/* Mobile-optimized cards */
.card-mobile {
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border-primary);
  border-radius: 1rem;
  padding: var(--mobile-spacing-lg);
  color: var(--color-text-primary);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  transition: all var(--animation-duration-normal) var(--animation-easing);
}

.card-mobile:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
}

/* Mobile navigation patterns */
.bottom-nav {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 50;
  background: rgba(40, 33, 50, 0.95);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-top: 1px solid var(--color-border-accent);
  padding: var(--mobile-spacing-sm) var(--mobile-spacing-md);
  padding-bottom: calc(var(--mobile-spacing-sm) + env(safe-area-inset-bottom));
}

.bottom-nav-item {
  @apply touch-target;
  flex-direction: column;
  gap: 0.25rem;
  padding: 0.5rem;
  border-radius: 0.5rem;
  color: var(--color-text-muted);
  text-decoration: none;
  font-size: var(--font-size-xs);
  font-weight: 500;
  transition: all var(--animation-duration-fast) var(--animation-easing);
}

.bottom-nav-item.active {
  background-color: var(--color-button-bg);
  color: var(--color-button-text);
  transform: translateY(-2px);
}

.bottom-nav-item:hover:not(.active) {
  background-color: rgba(255, 255, 255, 0.1);
  color: var(--color-text-secondary);
}

/* Pull-to-refresh indicator */
.pull-refresh-indicator {
  position: absolute;
  top: -60px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background-color: var(--color-button-bg);
  color: var(--color-button-text);
  font-size: 1.2rem;
  opacity: 0;
  transition: all var(--animation-duration-normal) var(--animation-easing);
}

.pull-refresh-indicator.visible {
  opacity: 1;
  top: 20px;
}

.pull-refresh-indicator.loading {
  animation: spin 1s linear infinite;
}

@keyframes spin {
  from {
    transform: translateX(-50%) rotate(0deg);
  }
  to {
    transform: translateX(-50%) rotate(360deg);
  }
}

/* Mobile-first card variants */
.card-elevated {
  box-shadow:
    0 4px 6px -1px rgba(0, 0, 0, 0.1),
    0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

.card-elevated:hover {
  box-shadow:
    0 10px 15px -3px rgba(0, 0, 0, 0.1),
    0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

/* Swipe animations */
.swipe-left-enter {
  transform: translateX(100%);
}

.swipe-left-enter-active {
  transform: translateX(0);
  transition: transform var(--animation-duration-normal) var(--animation-easing);
}

.swipe-right-enter {
  transform: translateX(-100%);
}

.swipe-right-enter-active {
  transform: translateX(0);
  transition: transform var(--animation-duration-normal) var(--animation-easing);
}

/* Page transitions for mobile */
.page-slide-enter {
  transform: translateX(100%);
}

.page-slide-enter-active {
  transform: translateX(0);
  transition: transform var(--animation-duration-slow) var(--animation-easing);
}

.page-slide-exit {
  transform: translateX(0);
}

.page-slide-exit-active {
  transform: translateX(-100%);
  transition: transform var(--animation-duration-slow) var(--animation-easing);
}

/* Mobile loading states */
.loading-skeleton {
  background: linear-gradient(
    90deg,
    var(--color-bg-secondary) 25%,
    var(--color-bg-tertiary) 50%,
    var(--color-bg-secondary) 75%
  );
  background-size: 200% 100%;
  animation: loading-shimmer 2s infinite;
}

@keyframes loading-shimmer {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

/* Mobile-specific utility classes */
.ios-bounce-fix {
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;
}

.hardware-accelerated {
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
}

/* Accessibility improvements for mobile */
@media (prefers-reduced-motion: reduce) {
  .touch-target:active,
  .btn-mobile:active,
  .card-mobile:hover,
  .swipe-left-enter-active,
  .swipe-right-enter-active,
  .page-slide-enter-active,
  .page-slide-exit-active {
    transform: none;
    transition: none;
  }

  .loading-skeleton {
    animation: none;
  }

  .pull-refresh-indicator.loading {
    animation: none;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .btn-mobile,
  .input-mobile,
  .card-mobile {
    border-width: 2px;
  }

  .bottom-nav-item.active {
    outline: 2px solid currentColor;
    outline-offset: 2px;
  }
}

/* Dark mode refinements for mobile */
@media (prefers-color-scheme: dark) {
  .card-elevated {
    box-shadow:
      0 4px 6px -1px rgba(0, 0, 0, 0.3),
      0 2px 4px -1px rgba(0, 0, 0, 0.2);
  }

  .card-elevated:hover {
    box-shadow:
      0 10px 15px -3px rgba(0, 0, 0, 0.3),
      0 4px 6px -2px rgba(0, 0, 0, 0.2);
  }
}

/* =============================================
   === 3. SHARED COMPONENT & ELEMENT STYLES  ===
   =============================================
*/
/* --- Containers & Cards --- */
.card,
.box,
.section,
.tracker-box,
.bordered {
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border-primary);
  color: var(--color-text-primary);
}
.box,
.card,
.section {
  @apply p-4 rounded-md;
}
.bordered {
  border-color: var(--color-border-accent);
}

/* --- Logo --- */
.logo {
  height: 6em;
  padding: 1.5em;
  will-change: filter;
  transition: filter 300ms;
}
.logo:hover {
  filter: drop-shadow(0 0 2em #646cffaa);
}
.logo.react:hover {
  filter: drop-shadow(0 0 2em #61dafbaa);
}

/* --- Typography --- */
h1,
h2,
h3,
h4,
h5,
h6,
.h3-title {
  color: var(--color-text-accent);
}
p:not([class]),
span:not([class]),
div:not([class]) {
  color: var(--color-text-secondary);
}
.subpage-title {
  border-bottom: 1px solid var(--color-border-accent);
  @apply text-xl font-semibold pb-1;
}

/* --- Interactive Elements --- */
button {
  background-color: var(--color-button-bg);
  color: var(--color-button-text);
  @apply px-4 py-2 rounded transition;
}
button:hover {
  background-color: var(--color-button-bg-hover);
}
button:disabled {
  @apply opacity-50 cursor-not-allowed;
}
a {
  color: var(--color-text-accent);
  @apply transition;
}
a:hover {
  color: var(--color-text-primary);
}
label,
legend {
  color: var(--color-text-accent);
}

/* --- Forms --- */
input,
select,
textarea {
  border: 1px solid var(--color-border-accent);
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-primary);
  @apply px-2 py-1 rounded;
}
input:focus,
select:focus,
textarea:focus {
  --tw-ring-color: var(--color-focus-ring);
  border-color: var(--color-focus-ring);
  outline: none;
  box-shadow: 0 0 0 2px var(--color-focus-ring);
}
input[type="checkbox"],
input[type="radio"] {
  accent-color: var(--color-accent);
  box-shadow: none;
}

/* --- Tables --- */
table {
  border: 1px solid var(--color-border-primary);
  background-color: var(--color-bg-secondary);
  color: var(--color-text-primary);
  @apply w-full;
}
th,
td {
  border: 1px solid var(--color-border-primary);
  @apply px-2 py-1 text-left;
}

/* =============================================
   === 4. PAGE-SPECIFIC STYLES             ===
   =============================================
*/
/* --- Settings Pages --- */
.settings-container {
  @apply space-y-6;
}
.settings-section {
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border-primary);
  @apply p-4 rounded-lg text-left;
}
.settings-section h3,
.settings-section h4 {
  color: var(--color-text-accent);
  border-bottom: 1px solid var(--color-border-primary);
  @apply text-lg font-semibold mb-3 pb-2;
}

/* --- Keyholder Section --- */
.keyholder-section-box {
  @apply p-4 rounded-lg text-left border;
  background-color: #7f1d1d;
  border-color: #dc2626;
  color: #fecaca;
}
.keyholder-section-box h4 {
  color: #fca5a5;
  border-bottom-color: #dc2626;
}
.keyholder-section-box button {
  background-color: #dc2626;
  color: #fee2e2;
}
.keyholder-section-box button:hover {
  background-color: #dc2626;
}
.keyholder-section-box input {
  background-color: #991b1b;
  border-color: #dc2626;
}

.keyholder-unlocked-controls {
  @apply space-y-4;
}
.keyholder-unlocked-controls .duration-box {
  @apply p-4 rounded-lg text-left border;
  background-color: #172554;
  border-color: #1d4ed8;
  color: #bfdbfe;
}
.keyholder-unlocked-controls .reward-box {
  @apply p-4 rounded-lg text-left border;
  background-color: #422006;
  border-color: #b45309;
  color: #fef08a;
}
.keyholder-unlocked-controls .punishment-box {
  @apply p-4 rounded-lg text-left border;
  background-color: #7f1d1d;
  border-color: #dc2626;
  color: #fecaca;
}
.keyholder-unlocked-controls input {
  @apply w-full bg-transparent;
}

/* --- Tasks Page --- */
.tasks-container {
  @apply p-4 rounded-lg text-left border;
  background-color: #172554;
  border-color: #1d4ed8;
  color: #bfdbfe;
}
.add-task-form {
  @apply flex items-center gap-2 mb-4;
}
.add-task-form input {
  @apply flex-grow;
}
.add-task-form button {
  @apply flex-shrink-0;
}
.task-list {
  @apply space-y-2;
}
.task-item {
  background-color: rgba(0, 0, 0, 0.2);
  @apply flex items-center justify-between p-2 rounded-md transition-colors;
}
.task-label {
  @apply flex items-center gap-3 cursor-pointer;
}
.complete-button {
  background-color: #15803d;
  color: #dcfce7;
  @apply flex items-center gap-2 text-xs font-bold px-3 py-1 flex-shrink-0;
}
.complete-button:hover {
  background-color: #16a34a;
}
.delete-button {
  background-color: transparent;
  color: #f87171;
  @apply p-1 rounded-full opacity-60 transition-all;
}
.delete-button:hover {
  background-color: #ef4444;
  color: #ffffff;
  @apply opacity-100;
}
.no-tasks-message {
  @apply text-center p-4 text-gray-400;
}

/* --- Task Approval Section (in Keyholder Page) --- */
.task-approval-box {
  background-color: var(--color-bg-secondary);
  border-color: var(--color-border-primary);
  @apply p-4 rounded-lg text-left border;
}
.task-approval-box h4 {
  color: var(--color-text-accent);
  border-bottom-color: var(--color-border-primary);
}
.task-approval-list {
  @apply space-y-2 mt-3;
}
.task-review-item {
  background-color: rgba(0, 0, 0, 0.2);
  @apply flex items-center justify-between p-2 rounded-md;
}
.task-review-text {
  color: var(--color-text-primary);
  @apply text-sm flex-grow;
}
.task-review-actions {
  @apply flex items-center gap-2 flex-shrink-0 ml-4;
}
.task-review-actions button {
  @apply text-xs font-bold px-3 py-1;
}
.approve-button {
  background-color: #059669;
  color: #d1fae5;
}
.approve-button:hover {
  background-color: #10b981;
}
.reject-button {
  background-color: #be185d;
  color: #ffe4e6;
}
.reject-button:hover {
  background-color: #e11d48;
}

/* --- Task History & Rewards/Punishments Log --- */
.task-history-container h2 {
  @apply mb-4;
}
.task-history-list {
  @apply space-y-3;
}
.task-outcome-item {
  @apply flex justify-between items-center p-3 rounded-lg shadow-sm;
}
.task-info {
  @apply flex-grow;
}
.task-text {
  @apply font-semibold;
}
.task-text.completed {
  @apply line-through text-gray-500;
}
.task-status {
  @apply text-xs opacity-80;
}
.standalone-note {
  @apply italic opacity-70;
}
.task-consequence {
  @apply text-right flex-shrink-0 ml-4;
}
.consequence-label {
  @apply text-xs font-bold uppercase opacity-80;
}
.consequence-time {
  @apply text-lg font-mono font-semibold;
}

/* --- Personal Goal Section --- */
.personal-goal-section {
  @apply p-4 rounded-lg text-left border;
  background-color: #172554;
  border-color: #1d4ed8;
  color: #bfdbfe;
}
.personal-goal-section fieldset:disabled {
  @apply opacity-50;
}
.personal-goal-section label {
  @apply block text-xs font-medium mb-1;
}
.current-goal-message {
  @apply text-sm text-green-300 mb-4;
}
.locked-state-message {
  @apply text-sm bg-gray-900 border border-gray-600 p-3 rounded-md text-center text-yellow-300 mb-4;
}
.self-lock-toggle {
  @apply flex items-center justify-center gap-3 p-2 border border-blue-800 bg-blue-900 rounded-md;
}
.self-lock-toggle label {
  @apply font-bold mb-0;
}
.self-lock-input-box {
  @apply p-4 rounded-lg text-left border;
  background-color: #422006;
  border-color: #b45309;
  color: #fef08a;
}
.self-lock-input-box h4 {
  @apply text-lg font-semibold mb-3 pb-2 border-b;
  color: #fde047;
  border-bottom-color: #92400e;
}

/* --- Rewards/Punishments History Display --- */
.rewards-history-box,
.punishments-history-box {
  @apply p-4 rounded-lg shadow-sm;
}

.rewards-history-box h4,
.punishments-history-box h4 {
  @apply text-lg font-semibold mb-2 flex items-center;
}

.rewards-history-box ul,
.rewards-history-box p,
.punishments-history-box ul,
.punishments-history-box p {
  @apply text-left list-disc list-inside space-y-1 text-sm;
}

/* Apply specific text colors from your utility classes */
.rewards-history-box li,
.rewards-history-box p {
  color: #fde047;
}

.punishments-history-box li,
.punishments-history-box p {
  color: #fca5a5;
}

/* =============================================
   === 5. UTILITY & OVERRIDE CLASSES         ===
   =============================================
*/
/* --- Colored Utility Boxes --- */
.box-blue {
  background-color: #172554;
  border-color: #1d4ed8;
  color: #bfdbfe;
}
.box-blue h4 {
  color: #93c5fd;
  border-bottom-color: #1e40af;
}
.box-blue button {
  background-color: #1d4ed8;
  color: #dbeafe;
}
.box-blue button:hover {
  background-color: #2563eb;
}
.box-blue input {
  background-color: #1e3a8a;
  border-color: #2563eb;
}
.box-yellow {
  background-color: #422006;
  border-color: #b45309;
  color: #fef08a;
}
.box-yellow h4 {
  color: #fde047;
  border-bottom-color: #92400e;
}
.box-yellow button {
  background-color: #b45309;
  color: #fefce8;
}
.box-yellow button:hover {
  background-color: #d97706;
}
.box-yellow input {
  background-color: #713f12;
  border-color: #d97706;
}
.box-red {
  background-color: #7f1d1d;
  border-color: #dc2626;
  color: #fecaca;
}
.box-red h4 {
  color: #fca5a5;
  border-bottom-color: #dc2626;
}
.box-red button {
  background-color: #dc2626;
  color: #fee2e2;
}
.box-red button:hover {
  background-color: #dc2626;
}
.box-red input {
  background-color: #991b1b;
  border-color: #dc2626;
}

/* --- Makes a <button> element look like plain text/link --- */
.button-as-link {
  background: none;
  border: none;
  padding: 0;
  margin: 0;
  font: inherit; /* Inherit font from the parent */
  color: var(--color-text-accent); /* UPDATED: Use the theme's accent color */
  cursor: pointer;
  text-align: inherit;
}

/* --- Specific Text Colors --- */
.text-keyholder {
  @apply text-pink-400;
}

/* --- Miscellaneous --- */
.no-border {
  @apply !border-none;
}

/* =============================================
   === 6. GLASS MORPHISM FRAMEWORK           ===
   =============================================
*/

/* --- Glass Base Classes --- */
.glass {
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.glass-hover:hover {
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(255, 255, 255, 0.15);
  transform: translateY(-1px);
  box-shadow: 0 12px 40px 0 rgba(31, 38, 135, 0.45);
}

.glass-card {
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  border-radius: 1rem;
  padding: 1.5rem;
  position: relative;
  overflow: hidden;
}

.glass-card::before {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.1),
    transparent
  );
  transition: left 0.5s;
}

.glass-card:hover::before {
  left: 100%;
}

.glass-nav {
  background: rgba(255, 255, 255, 0.03);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  border-radius: 0.75rem;
  padding: 0.5rem 1rem;
}

.glass-button {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  border-radius: 0.5rem;
  padding: 0.5rem 1rem;
  font-weight: 500;
  position: relative;
  overflow: hidden;
}

.glass-button::after {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.2);
  transform: translate(-50%, -50%);
  transition:
    width 0.3s,
    height 0.3s;
}

.glass-button:hover::after {
  width: 300px;
  height: 300px;
}

.glass-input {
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  border-radius: 0.5rem;
  padding: 0.75rem 1rem;
}

.glass-input:focus {
  border-color: rgba(147, 197, 253, 0.5);
  box-shadow: 0 0 0 3px rgba(147, 197, 253, 0.1);
  outline: none;
}

/* --- Liquid Glass Effects --- */
.liquid-glass {
  background: linear-gradient(
    45deg,
    rgba(147, 197, 253, 0.1),
    rgba(196, 181, 253, 0.1),
    rgba(251, 146, 60, 0.1)
  );
  background-size: 200% 200%;
  animation: liquid-flow 6s ease-in-out infinite;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  box-shadow:
    0 8px 32px rgba(147, 197, 253, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.glass-morphism {
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.1),
    rgba(255, 255, 255, 0.05)
  );
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border-radius: 20px;
  border: 1px solid rgba(255, 255, 255, 0.18);
  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
  animation: glass-morph 4s ease-in-out infinite;
}

/* --- Enhanced Card Variants --- */
.glass-card-primary {
  background: rgba(147, 197, 253, 0.08);
  border-color: rgba(147, 197, 253, 0.2);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(147, 197, 253, 0.2);
  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  border-radius: 1rem;
  padding: 1.5rem;
  position: relative;
  overflow: hidden;
}

.glass-card-secondary {
  background: rgba(196, 181, 253, 0.08);
  border-color: rgba(196, 181, 253, 0.2);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(196, 181, 253, 0.2);
  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  border-radius: 1rem;
  padding: 1.5rem;
  position: relative;
  overflow: hidden;
}

.glass-card-accent {
  background: rgba(251, 146, 60, 0.08);
  border-color: rgba(251, 146, 60, 0.2);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(251, 146, 60, 0.2);
  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  border-radius: 1rem;
  padding: 1.5rem;
  position: relative;
  overflow: hidden;
}

/* --- Floating Glass Elements --- */
.glass-float {
  animation: float 3s ease-in-out infinite;
}

/* --- Glass Modal --- */
.glass-modal {
  background: rgba(0, 0, 0, 0.8);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
}

.glass-modal-content {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
  border-radius: 1rem;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
}

/* --- Glass Header --- */
.glass-header {
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

/* =============================================
   === 7. ANIMATIONS & MEDIA QUERIES         ===
   =============================================
*/
@keyframes logo-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes fade-in-up {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes glass-morph {
  0%,
  100% {
    background-position: 0% 50%;
    border-radius: 20px;
  }
  50% {
    background-position: 100% 50%;
    border-radius: 25px;
  }
}

@keyframes liquid-flow {
  0%,
  100% {
    background-size: 200% 200%;
    background-position: 0% 0%;
  }
  50% {
    background-size: 200% 200%;
    background-position: 100% 100%;
  }
}

@keyframes float {
  0%,
  100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-4px);
  }
}

@keyframes glass-shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .glass-card::before,
  .glass-button::after,
  .liquid-glass,
  .glass-morphism,
  .glass-float {
    animation: none;
  }

  .glass-hover:hover {
    transform: none;
  }
}

@media (prefers-reduced-motion: no-preference) {
  a:nth-of-type(2) .logo {
    animation: logo-spin infinite 20s linear;
  }
}

/* =============================================
   === 7. ACHIEVEMENT TOAST STYLES           ===
   =============================================
*/

/* Custom styles for achievement toasts */
.achievement-toast {
  background: linear-gradient(
    135deg,
    #d97706 0%,
    #eab308 50%,
    #f97316 100%
  ) !important;
  border: 2px solid #facc15 !important;
  border-radius: 12px !important;
  box-shadow: 0 10px 25px rgba(245, 158, 11, 0.3) !important;
  min-height: 80px !important;
}

.achievement-toast-body {
  padding: 0 !important;
}

/* Toast container positioning */
.Toastify__toast-container {
  width: 400px !important;
}

@media (max-width: 768px) {
  .Toastify__toast-container {
    width: 95vw !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
  }

  .achievement-toast {
    margin: 0 !important;
  }
}

/* Toast animation */
.Toastify__toast--success.achievement-toast {
  animation: achievementSlideIn 0.5s ease-out;
}

@keyframes achievementSlideIn {
  from {
    transform: translateX(100%) scale(0.8);
    opacity: 0;
  }
  to {
    transform: translateX(0) scale(1);
    opacity: 1;
  }
}

/* Progress bar for achievement toasts */
.achievement-toast .Toastify__progress-bar {
  background: linear-gradient(90deg, #fde047, #fcd34d) !important;
}
